"copy and paste
set clipboard=unnamedplus

"Syntax highlighting
filetype off
filetype plugin indent on
syntax on

"better intendation Ctrl + >
vnoremap < <gv 
vnoremap > >gv

"set number of undos
set undolevels=700

"no backup and swap files
set nobackup
set nowritebackup
set noswapfile

"reload files changed outside vim - trigger autoread when changing buffers or
"comming back to vim
set autoread
au FocusGained,BufEnter * :checktime

"relative numbering of lines in vim
set number relativenumber

"visual tweeking
set cursorline
hi LineNr 	term=bold cterm=NONE ctermfg=DarkGray ctermbg=NONE gui=NONE guifg=DarkGray guibg=NONE
hi CursorLineNr term=bold ctermfg=Yellow gui=bold guifg=Yellow
hi CursorLine   cterm=NONE ctermbg=DarkGray ctermfg=NONE guibg=darkgray guifg=NONE

"pane splitting
set splitright
set splitbelow

"TABS
set tabstop=2
"when indenting with '>', use 2 spaces width
set shiftwidth=2
"On pressing tab, insert 2 spaces
set expandtab

"wrap cursor on endline
set whichwrap+=<,>,h,l,[,]

"should fix colors in tmux
set term=screen-256color

"start scrolling when 8 lines away from margin
set scrolloff=8

"use enter to create new lines w/o entering insert mode
nnoremap <CR> o

"make backspace work like normal
set backspace=indent,eol,start

"remap the leader key
nnoremap , <NOP>
let mapleader = ","
"nnoremap <space> <NOP>
"let maplocalleader = "`"

call plug#begin('~/.vim/plugged')

"Plug 'junegunn/vim-easy-align'
  
  " file manager (leader+n)
  Plug 'scrooloose/nerdtree'
  
  " snippets
  Plug 'SirVer/ultisnips'

  " python formatting
  "Plug 'hynek/vim-python-pep8-indent'
  
  " youcompleteme
  " automatic code completion for C++ and more
  "Plug 'valloric/youcompleteme', { 'commit': '263bd88bd54278dba94c4d6c43ad5fcde2fcd3bb' }
  
  " Latex stuff
  "Plug 'lervag/vimtex'

  "color scheme
  Plug 'nanotech/jellybeans.vim'

  " sharing registers between multiple instances of vim
  "Plug 'ardagnir/united-front'
  
  " vim airline
  Plug 'bling/vim-airline'
  Plug 'vim-airline/vim-airline-themes'  

call plug#end()

"vim-airline config
source ~/.vim/pluginconfig/vim-airline.vim

"jellybeans colorscheme
colorscheme jellybeans 

"nerdtree shortcut
map <C-n> :NERDTreeToggle<CR>

"highlight when searching
set hlsearch

" Useful when studying strange source code.
" Type z/ to toggle highlighting on/off.
function! AutoHighlightToggle()
  let @/ = ''
  if exists('#auto_highlight')
    au! auto_highlight
    augroup! auto_highlight
    setl updatetime=4000
    echo 'Highlight current word: off'
    return 0
  else
    augroup auto_highlight
      au!
      au CursorHold * let @/ = '\V\<'.escape(expand('<cword>'), '\').'\>'
    augroup end
    setl updatetime=500
    echo 'Highlight current word: ON'
    return 1
  endif
endfunction

nnoremap <leader>a :call AutoHighlightToggle()<cr>

" snippets
source ~/.vim/pluginconfig/ultisnips.vim
set path+=~/.vim/UltiSnips/**
